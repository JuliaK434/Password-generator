import random
import string

def positive(n):
    '''Запрашивает у пользователя положительное целое число.'''
    while True:
        # Конструкция try - except для обработки исключений.
        # Если в блоке try происходит ошибка ValueError (например, пользователь ввел строку,
        # которая не может быть преобразована в целое число), управление передается в этот блок except,
        # и выводится сообщение с просьбой ввести положительное число. Цикл затем продолжается с начала.
        try:
            value = int(input(n))
            if value > 0:
                return value
            else:
                print("Пожалуйста, введите положительное число.")
        except ValueError:
            print("Пожалуйста, введите положительное число.")

def yes_no(prompt):
    '''Запрашивает у пользователя ответ д или н'''
    while True:
        response = input(prompt).strip().lower()
        if response in ['д', 'н']:
            return response == 'д'
        else:
            print("Пожалуйста, введите 'да'(д) или 'нет'(н).")

def replace_characters(password):
    '''Заменяет определенные буквы на цифры в пароле.'''
    replacements = {'i': '1', 'f': '4', 'o': '0', 'a': '4', 'e': '3', 's': '5', 't': '7'}
    return ''.join(replacements.get(c, c) for c in password)

def generate_password(length, uppers, digits, special, replace_c):
    '''Генерирует пароль заданной длины с учетом выбранных параметров'''
    characters = string.ascii_lowercase
    if uppers:
        characters += string.ascii_uppercase
    if digits:
        characters += string.digits
    if special:
        characters += string.punctuation

    password = ''.join(random.choice(characters) for _ in range(length))
    if replace_c:
        password = replace_characters(password)

    return password

def main():
    '''Запрашивает у пользователя все необходимые параметры.
    Генерирует и выводит заданное количество паролей.'''
    num = positive("Сколько паролей нужно сгенерировать? ")
    length = positive("Введите длину пароля: ")
    uppers = yes_no("Использовать заглавные буквы? (д/н): ")
    digits = yes_no("Использовать цифры? (д/н): ")
    special = yes_no("Использовать спецсимволы? (д/н): ")
    replace_c = yes_no("Заменять некоторые буквы на цифры? (д/н): ")

    for _ in range(num):
        print(generate_password(length, uppers, digits, special, replace_c))


main()
